## 기기 제어 시, Recoil 상태 관리
- 초기 데이터는 `mockData.json`에서 로드해 Recoil devicesState atom에 넣습니다.
- 사용자 조작(토글 버튼 등)과 실시간 시뮬레이션(setInterval)이 모두 이 전역 상태를 수정하며, UI는 상태 변경에 자동으로 반응합니다.

### 1. 상태 조회(구독)
- `useRecoilState(devicesState)`를 사용하여 최신 배열을 구독하고 `devicesState`가 바뀌면 React가 자동으로 리랜더링 합니다.
```
const [devices, setDevices] = useRecoilState(devicesState)
```

### 2. 상태 업데이트
- 불러온 최신 배열을 기준으로, `setDevices`를 통해 상태를 업데이트 합니다.
- `setDevices`는 배열을 관리하므로 `map()`메서드를 통해 돌면서 `deviceId`에 맞는 데이터를 찾아서 해당 기기의 상태만 변환합니다.
```
const [devices, setDevices] = useRecoilState(devicesState)

const togglePower = (deviceId: string) => {
    setDevices(prev =>
      prev.map(device =>
        device.id === deviceId
          ? {
              ...device,
              state: {
                ...device.state,
                power: device.state.power === "on" ? "off" : "on",
              },
            }
          : device
      )
    );
};
```